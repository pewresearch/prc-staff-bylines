(()=>{"use strict";const e=window.wp.element,t=window.wp.plugins,o=window.prcComponents,n=window.wp.data,s=window.wp.coreData,i=window.wp.components,r=window.wp.editPost,l=window.ReactJSXRuntime;function a(){const{postType:t,postId:a}=(0,n.useSelect)((e=>({postType:e("core/editor").getCurrentPostType(),postId:e("core/editor").getCurrentPostId()})),[]),[d,p]=(0,s.useEntityProp)("postType",t,"meta",a),{_maelstrom:c}=d,{enabled:u,restricted:f}=(0,e.useMemo)((()=>c&&c.enabled&&c.restricted?{enabled:!0,restricted:c.restricted}:{enabled:!1,restricted:[]}),[c]);return(0,l.jsxs)(r.PluginDocumentSettingPanel,{name:"prc-staff-info-safety",title:"Staff Safety (Maelstrom)",children:[(0,l.jsx)(i.ToggleControl,{label:"Enable Maelstrom",checked:u,onChange:()=>{p({_maelstrom:{enabled:!u,restricted:f}})}}),u&&(0,l.jsx)(o.TermSelect,{onChange:e=>{console.log("MAELSTROM",e),(e=>{const t=f;t.includes(e)?t.splice(t.indexOf(e),1):t.push(e),p({_maelstrom:{enabled:u,restricted:t}}),console.log("meta...",d)})(e.name)},taxonomy:"regions-countries",value:f,maxTerms:5,label:"Select a region to restrict"})]})}const d=window.wp.i18n,p=window.wp.editor;function c(){const{postType:e,postId:t}=(0,n.useSelect)((e=>({postType:e("core/editor").getCurrentPostType(),postId:e("core/editor").getCurrentPostId()})),[]),[o,r]=(0,s.useEntityProp)("postType",e,"meta",t),{jobTitle:a,jobTitleExtended:c,socialProfiles:u,bylineLinkEnabled:f}=o;return(0,l.jsxs)(p.PluginDocumentSettingPanel,{name:"prc-staff-info",title:"Staff Information",children:[(0,l.jsx)(i.ToggleControl,{label:(0,d.__)("Display Byline Link"),help:(0,d.__)('All staff are assigned a byline tem, however not all staff have a link to a byline archive "staff bio" page. If this staff member has a bio page, enable this option to link their byline to their bio page.'),checked:f,onChange:()=>{r({...o,bylineLinkEnabled:!f})}}),(0,l.jsx)(i.CardDivider,{}),(0,l.jsx)(i.TextControl,{label:(0,d.__)("Job Title"),value:a,onChange:e=>{r({...o,jobTitle:e})},placeholder:"Research Assistant"}),(0,l.jsx)(i.TextControl,{label:(0,d.__)("Job Title Extended"),help:(0,d.__)("This extended job title appears under Short Read posts."),value:c,onChange:e=>{r({...o,jobTitleExtended:e})},placeholder:"is a Research Assistant at Pew Research Center."})]})}function u(){const{postType:e,postId:t}=(0,n.useSelect)((e=>({postType:e("core/editor").getCurrentPostType(),postId:e("core/editor").getCurrentPostId()})),[]),[o,i]=(0,s.useEntityProp)("postType",e,"meta",t),{_wp_user:a}=o;return(0,l.jsxs)(r.PluginDocumentSettingPanel,{name:"prc-staff-wp-user",title:"WordPress User",children:[(0,l.jsx)("p",{children:"WIP"}),(0,l.jsx)("p",{children:"Control to tie a wp_user profile to a staff profile will go here. This will enable slack notifications and the like in the future."})]})}(0,t.registerPlugin)("prc-staff-info",{render:()=>(0,l.jsxs)(e.Fragment,{children:[(0,l.jsx)(c,{}),(0,l.jsx)(a,{}),(0,l.jsx)(u,{})]}),icon:null})})();
//# sourceMappingURL=index.js.map